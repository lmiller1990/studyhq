import{_ as ne}from"./ZAP2WejQ.js";import{_ as Q}from"./DzVHD3c6.js";import{_ as G,b as se}from"./ZZtQuO6o.js";import{I as V,u as j,o as D,t as le,i as E,A as K,s as ae,l as re,N as F,a as I,b as ue,c as ie}from"./CzZBItOK.js";import{f as $,r as _,v as J,m as g,x as Y,y as Z,z as ce,A as W,_ as de,B as X,C,D as N,E as pe,G as P,o as h,c as S,F as U,n as x,h as M,w as b,b as w,H as R,I as A,J as q,K as B,T as fe,d as z,t as H,L as me,M as ve,l as he,k as ge,a as k,i as O}from"./Bt_NbFr3.js";import{u as ye,o as be}from"./BfOmg0nA.js";import{u as _e}from"./CBSWu9rs.js";import"./DOsE6IPw.js";import"./CnZK799a.js";import"./BQkc-AXV.js";import"./Bt7Qu0f8.js";import"./DvDH6DOc.js";const we={wrapper:"w-full flex flex-col",container:"w-full flex flex-col",item:{base:"",size:"text-sm",color:"text-gray-500 dark:text-gray-400",padding:"pt-1.5 pb-3",icon:"ms-auto transform transition-transform duration-200"},transition:{enterActiveClass:"overflow-hidden transition-[height] duration-200 ease-out",leaveActiveClass:"overflow-hidden transition-[height] duration-200 ease-out"},default:{openIcon:"i-heroicons-chevron-down-20-solid",closeIcon:"",class:"mb-1.5 w-full",variant:"soft"}};var De=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(De||{});let ee=Symbol("DisclosureContext");function T(e){let u=W(ee,null);if(u===null){let f=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(f,T),f}return u}let te=Symbol("DisclosurePanelContext");function Se(){return W(te,null)}let Ie=$({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:u,attrs:f}){let c=_(e.defaultOpen?0:1),o=_(null),i=_(null),a={buttonId:_(`headlessui-disclosure-button-${V()}`),panelId:_(`headlessui-disclosure-panel-${V()}`),disclosureState:c,panel:o,button:i,toggleDisclosure(){c.value=j(c.value,{0:1,1:0})},closeDisclosure(){c.value!==1&&(c.value=1)},close(s){a.closeDisclosure();let d=s?s instanceof HTMLElement?s:s.value instanceof HTMLElement?D(s):D(a.button):D(a.button);d==null||d.focus()}};return J(ee,a),le(g(()=>j(c.value,{0:E.Open,1:E.Closed}))),()=>{let{defaultOpen:s,...d}=e,m={open:c.value===0,close:a.close};return K({theirProps:d,ourProps:{},slot:m,slots:u,attrs:f,name:"Disclosure"})}}}),Be=$({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:u,slots:f,expose:c}){let o=T("DisclosureButton"),i=Se(),a=g(()=>i===null?!1:i.value===o.panelId.value);Y(()=>{a.value||e.id!==null&&(o.buttonId.value=e.id)}),Z(()=>{a.value||(o.buttonId.value=null)});let s=_(null);c({el:s,$el:s}),a.value||ce(()=>{o.button.value=s.value});let d=ae(g(()=>({as:e.as,type:u.type})),s);function m(){var t;e.disabled||(a.value?(o.toggleDisclosure(),(t=D(o.button))==null||t.focus()):o.toggleDisclosure())}function p(t){var n;if(!e.disabled)if(a.value)switch(t.key){case I.Space:case I.Enter:t.preventDefault(),t.stopPropagation(),o.toggleDisclosure(),(n=D(o.button))==null||n.focus();break}else switch(t.key){case I.Space:case I.Enter:t.preventDefault(),t.stopPropagation(),o.toggleDisclosure();break}}function r(t){switch(t.key){case I.Space:t.preventDefault();break}}return()=>{var t;let n={open:o.disclosureState.value===0},{id:l,...v}=e,y=a.value?{ref:s,type:d.value,onClick:m,onKeydown:p}:{id:(t=o.buttonId.value)!=null?t:l,ref:s,type:d.value,"aria-expanded":o.disclosureState.value===0,"aria-controls":o.disclosureState.value===0||D(o.panel)?o.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:m,onKeydown:p,onKeyup:r};return K({ourProps:y,theirProps:v,slot:n,attrs:u,slots:f,name:"DisclosureButton"})}}}),Oe=$({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:u,slots:f,expose:c}){let o=T("DisclosurePanel");Y(()=>{e.id!==null&&(o.panelId.value=e.id)}),Z(()=>{o.panelId.value=null}),c({el:o.panel,$el:o.panel}),J(te,o.panelId);let i=re(),a=g(()=>i!==null?(i.value&E.Open)===E.Open:o.disclosureState.value===0);return()=>{var s;let d={open:o.disclosureState.value===0,close:o.close},{id:m,...p}=e,r={id:(s=o.panelId.value)!=null?s:m,ref:o.panel};return K({ourProps:r,theirProps:p,slot:d,attrs:u,slots:f,features:F.RenderStrategy|F.Static,visible:a.value,name:"DisclosurePanel"})}}});const L=X(C.ui.strategy,C.ui.accordion,we),ke=X(C.ui.strategy,C.ui.button,se),$e=$({components:{HDisclosure:Ie,HDisclosureButton:Be,HDisclosurePanel:Oe,UIcon:Q,UButton:G},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>L.default.openIcon},unmount:{type:Boolean,default:!1},closeIcon:{type:String,default:()=>L.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["open"],setup(e,{emit:u}){const{ui:f,attrs:c}=ye("accordion",N(e,"ui"),L,N(e,"class")),o=g(()=>ke),i=_([]),a=g(()=>i.value.map(({open:t})=>t));pe(a,(t,n)=>{for(const l in t){const v=n[l],y=t[l];!v&&y&&u("open",l)}},{immediate:!0});function s(t,n){!e.items[t].closeOthers&&e.multiple||i.value.forEach(l=>{l.open&&l.close(n.target)})}function d(t,n){const l=t;l.style.height="0",l.offsetHeight,l.style.height=l.scrollHeight+"px",l.addEventListener("transitionend",n,{once:!0})}function m(t){const n=t;n.style.height=n.scrollHeight+"px",n.offsetHeight}function p(t){const n=t;n.style.height="auto"}function r(t,n){const l=t;l.style.height="0",l.addEventListener("transitionend",n,{once:!0})}return ue(()=>ie("$SZ7s8siktv")),{ui:f,uiButton:o,attrs:c,buttonRefs:i,closeOthers:s,omit:be,onEnter:d,onBeforeLeave:m,onAfterEnter:p,onLeave:r}}}),Ee={key:1};function Ce(e,u,f,c,o,i){const a=Q,s=G,d=P("HDisclosureButton"),m=P("HDisclosurePanel"),p=P("HDisclosure");return h(),S("div",{class:B(e.ui.wrapper)},[(h(!0),S(U,null,x(e.items,(r,t)=>(h(),M(p,{key:t,as:"div",class:B(e.ui.container),"default-open":e.defaultOpen||r.defaultOpen},{default:b(({open:n,close:l})=>[w(d,{ref_for:!0,ref:()=>e.buttonRefs[t]={open:n,close:l},as:"template",disabled:r.disabled,onClick:v=>e.closeOthers(t,v),onKeydown:[R(v=>e.closeOthers(t,v),["enter"]),R(v=>e.closeOthers(t,v),["space"])]},{default:b(()=>[A(e.$slots,"default",{item:r,index:t,open:n,close:l},()=>[w(s,q({ref_for:!0},{...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.attrs,...e.omit(r,["slot","disabled","content","defaultOpen"])}),{trailing:b(()=>[w(a,{name:n&&e.closeIcon?e.closeIcon:e.openIcon,class:B([n&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[r.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),w(fe,q({ref_for:!0},e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:b(()=>[e.unmount?(h(),M(m,{key:0,class:B([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),unmount:""},{default:b(()=>[A(e.$slots,r.slot||"item",{item:r,index:t,open:n,close:l},()=>[z(H(r.content),1)])]),_:2},1032,["class"])):me((h(),S("div",Ee,[w(m,{class:B([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:b(()=>[A(e.$slots,r.slot||"item",{item:r,index:t,open:n,close:l},()=>[z(H(r.content),1)])]),_:2},1032,["class"])],512)),[[ve,n]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["class","default-open"]))),128))],2)}const He=de($e,[["render",Ce]]),Pe={class:"leading-relaxed"},Ae={class:"mt-4"},Le=k("h2",{class:"font-bold"},"Feedback",-1),Ue={class:"whitespace-pre-wrap"},Je=$({__name:"results",async setup(e){var m;let u,f;const o=he().params.id,{data:i}=([u,f]=ge(()=>_e(`/api/exams/:${o}`,"$KloFVAFkYc")),u=await u,f(),u),a=g(()=>{var p;return((p=i.value)==null?void 0:p.questions)??[]}),s=g(()=>{var p;return((p=i.value)==null?void 0:p.answers)??[]});if(s.value.length!==a.value.length)throw console.log(a.value),console.log(s.value),new Error(`Questions length (${(m=a.value)==null?void 0:m.length}) and answers (${s.value.length}) not same length; something is wrong!`);const d=[{label:"Show questions & answers",icon:"i-heroicons-information-circle",defaultOpen:!1,slot:"exam"}];return(p,r)=>{var l;const t=ne,n=He;return h(),S(U,null,[w(n,{items:d},{exam:b(()=>[k("div",Pe,[(h(!0),S(U,null,x(O(a),(v,y)=>(h(),S("div",null,[k("label",null,[z(H(O(a)[y])+" ",1),w(t,{autoresize:"",class:"my-2",modelValue:O(s)[y],"onUpdate:modelValue":oe=>O(s)[y]=oe,disabled:!0},null,8,["modelValue","onUpdate:modelValue"])])]))),256))])]),_:1}),k("section",Ae,[Le,k("div",Ue,H((l=O(i))==null?void 0:l.feedback),1)])],64)}}});export{Je as default};
